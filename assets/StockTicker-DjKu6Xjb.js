import{d as b,c as u,u as h,a as n,o as a,b as s,e as k,f as e,t as l,F as f,r as g,n as v,_ as x}from"./index-DcZ8pibZ.js";const C={class:"widget"},F={key:0,class:"state"},B={key:1,class:"state error"},S={key:2},A={class:"table"},D=b({__name:"StockTicker",props:{symbols:{}},setup(m){const r=m,p=u(()=>r.symbols&&r.symbols.length?r.symbols.join(","):"AAPL,GOOG"),_=u(()=>`/api/stocks?symbols=${encodeURIComponent(p.value)}`),{data:c,loading:y,error:d,refetch:i}=h(_);return(G,o)=>(a(),n("div",C,[o[2]||(o[2]=s("h3",{class:"title"},"Котировки",-1)),e(y)?(a(),n("div",F,"Загрузка котировок…")):e(d)?(a(),n("div",B,"Ошибка: "+l(e(d).message),1)):e(c)?(a(),n("div",S,[s("table",A,[o[1]||(o[1]=s("thead",null,[s("tr",null,[s("th",null,"Акция"),s("th",null,"Цена"),s("th",null,"Изм.")])],-1)),s("tbody",null,[(a(!0),n(f,null,g(e(c),t=>(a(),n("tr",{key:t.symbol},[s("td",null,l(t.symbol),1),s("td",null,l(t.price.toFixed(2)),1),s("td",{class:v({up:t.change>=0,down:t.change<0})},l(t.change.toFixed(2)),3)]))),128))])]),s("button",{class:"refresh",onClick:o[0]||(o[0]=(...t)=>e(i)&&e(i)(...t))},"Обновить")])):k("",!0)]))}}),L=x(D,[["__scopeId","data-v-3a5b7770"]]);export{L as default};
