import{d as b,c as u,u as h,a as n,o as l,b as s,e as k,f as e,t as a,F as f,r as g,n as v,_ as x}from"./index-lljqORFO.js";const C={class:"widget"},F={key:0,class:"state"},B={key:1,class:"state error"},S={key:2},A={class:"table"},D=b({__name:"StockTicker",props:{symbols:{}},setup(m){const r=m,p=u(()=>r.symbols&&r.symbols.length?r.symbols.join(","):"AAPL,GOOG"),_=u(()=>`/test-itv/api/stocks?symbols=${encodeURIComponent(p.value)}`),{data:c,loading:y,error:d,refetch:i}=h(_);return(G,o)=>(l(),n("div",C,[o[2]||(o[2]=s("h3",{class:"title"},"Котировки",-1)),e(y)?(l(),n("div",F,"Загрузка котировок…")):e(d)?(l(),n("div",B,"Ошибка: "+a(e(d).message),1)):e(c)?(l(),n("div",S,[s("table",A,[o[1]||(o[1]=s("thead",null,[s("tr",null,[s("th",null,"Акция"),s("th",null,"Цена"),s("th",null,"Изм.")])],-1)),s("tbody",null,[(l(!0),n(f,null,g(e(c),t=>(l(),n("tr",{key:t.symbol},[s("td",null,a(t.symbol),1),s("td",null,a(t.price.toFixed(2)),1),s("td",{class:v({up:t.change>=0,down:t.change<0})},a(t.change.toFixed(2)),3)]))),128))])]),s("button",{class:"refresh",onClick:o[0]||(o[0]=(...t)=>e(i)&&e(i)(...t))},"Обновить")])):k("",!0)]))}}),L=x(D,[["__scopeId","data-v-661301cf"]]);export{L as default};
